<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1,maximum-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta charset="UTF-8">
</head>

<body style="background:black">

  <script src="https://rawgit.com/phinajs/phina.js/develop/build/phina.js"></script>
  <script src="https://rawgit.com/daishihmr/phigl.js/develop/build/phigl.js"></script>
  <script src="../build/phina.particle2dx.js"></script>

  <script>

  // http://particle2dx.com/

  phina.globalize();
  phina.main(() => {

    const app = GameApp({
      fps: 30,
      width: 750,
      height: 1334,
      assets: {
        image: {
          "sample1": "funsui.png",
          "sample2": "galaxy3.png",
          "sample3": "katamari.png",
          "sample4": "me3.png",
        },
        json: {
          // JSONファイル （Corona SDK用にエクスポートしたもの）
          "sample1": "funsui.json",
          "sample2": "galaxy3.json",
          "sample3": "katamari.json",
          "sample4": "me3.json",
        },
      },
      startLabel: "main",
    })
    app.enableStats();
    app.run();

  });

  phina.define("MainScene", {
    superClass: "DisplayScene",

    init: function() {
      this.superInit({
        width: 750,
        height: 1334,
        backgroundColor: "black",
      });

      // パーティクルのエミッター
      const emitter = Emitter({
        jsonName: "sample1",
        textureName: "sample1",
      });
      emitter.setPosition(this.gridX.span(5), this.gridY.span(5))
      emitter.addChildTo(this);

      // 生成開始
      emitter.start();

      // 多用は禁物
      Emitter({ jsonName: "sample2", textureName: "sample2" })
        .setPosition(this.gridX.span(11), this.gridY.span(5))
        .addChildTo(this)
        .start();
      Emitter({ jsonName: "sample3", textureName: "sample3" })
        .setPosition(this.gridX.span(5), this.gridY.span(11))
        .addChildTo(this)
        .start();
      Emitter({ jsonName: "sample4", textureName: "sample4" })
        .setPosition(this.gridX.span(11), this.gridY.span(11))
        .addChildTo(this)
        .start();
    },
  });

  </script>

</body>

</html>